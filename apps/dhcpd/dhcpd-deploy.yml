containers:
  - name: dhcpd
    image: ghcr.io/gorttman/dhcpd:latest
    imagePullPolicy: IfNotPresent
    command:
      - dhcpd
      - -4
      - -f
      - -cf
      - /etc/dhcp/dhcpd.conf
      - -lf
      - /var/lib/dhcp/dhcpd.leases
      - eth0
    securityContext:
      capabilities:
        add: ["NET_ADMIN", "NET_RAW", "NET_BIND_SERVICE"]
      runAsNonRoot: false
      runAsUser: 0
    volumeMounts:
      - name: dhcpd-config
        mountPath: /etc/dhcp
      - name: dhcpd-leases
        mountPath: /var/lib/dhcp
    resources:
      requests:
        cpu: 5m
        memory: 32Mi
      limits:
        cpu: 200m
        memory: 128Mi
